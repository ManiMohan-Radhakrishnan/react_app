(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[16],{1473:function(e,t,a){"use strict";a.r(t);var s=a(7),c=a(1),r=a(37),n=a(4),o=a(9),i=a.n(o),j=a(23),b=a(33),d=a(142),l=a(26),O=a(177),u=a(73),p=a(53),m=a(514),x=a(528),w=a(178),h=a(110),f=a(28),_=a(56),v=a(538),g=(a(932),function(){var e=Object(l.h)(),t=Object(p.c)(),a=Object(w.a)(e.search).get("reset_password_token"),o=Object(c.useState)(!1),g=Object(b.a)(o,2),N=g[0],k=g[1],y=Object(c.useState)(!1),C=Object(b.a)(y,2),P=C[0],S=C[1],Y=Object(c.useState)(""),F=Object(b.a)(Y,2),q=F[0],E=F[1],J=Object(c.useState)({password:!1,password_confirmation:!1}),K=Object(b.a)(J,2),U=K[0],A=K[1],T=Object(c.useState)({reset_password_token:a,password:!1,valid_password:!1,password_confirmation:!1,valid_password_confirmation:!1}),W=Object(b.a)(T,2),z=W[0],B=W[1],D=Object(c.useState)(!0),G=Object(b.a)(D,2),H=G[0],I=G[1],L=Object(c.useState)(!0),M=Object(b.a)(L,2),Q=M[0],R=M[1];Object(c.useEffect)((function(){t(Object(_.m)())}),[]);var V=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{className:"error_text text-center",children:["Your password reset token has expired. We have this expiry limit in the interest of your account security! ",Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," You can re-attempt to reset your password by"," ",Object(s.jsx)(O.b,{to:"/forgot-password",children:"clicking here."})]})})},X=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z()){e.next=14;break}return e.prev=1,S(!0),e.next=5,Object(f.Nb)(z);case 5:t=e.sent,S(!1),200===t.status&&k(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),422===(null===e.t0||void 0===e.t0?void 0:e.t0.status)?E("token-expired"):(u.b.error("An unexpected error occured. Please try again "),console.log("\ud83d\ude80 ~ file: index.js ~ line 106 ~ handleSignUp ~ err",e.t0)),S(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(n.a)({},U);return e=z.password?Object(h.U)(z.password)?Object(n.a)(Object(n.a)({},e),{},{valid_password:!1}):Object(n.a)(Object(n.a)({},e),{},{valid_password:!0}):Object(n.a)(Object(n.a)({},e),{},{password:!0}),e=z.password_confirmation?z.password===z.password_confirmation?Object(n.a)(Object(n.a)({},e),{},{valid_password_confirmation:!1}):Object(n.a)(Object(n.a)({},e),{},{valid_password_confirmation:!0}):Object(n.a)(Object(n.a)({},e),{},{password_confirmation:!0}),A(e),!(e.password||e.password_confirmation||e.valid_password||e.valid_password_confirmation)},$=function(e){var t,a;(B(Object(n.a)(Object(n.a)({},z),{},Object(r.a)({},e.target.name,e.target.value))),e.target.value)?A(Object(n.a)(Object(n.a)({},U),{},(t={},Object(r.a)(t,e.target.name,!1),Object(r.a)(t,"valid_".concat(e.target.name),!1),t))):A(Object(n.a)(Object(n.a)({},U),{},(a={},Object(r.a)(a,e.target.name,!0),Object(r.a)(a,"valid_".concat(e.target.name),!1),a)))},ee=function(e){"Enter"===e.key&&X()};return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(x.a,{children:N?Object(s.jsxs)("div",{className:"bl_form_box",children:[Object(s.jsx)("div",{className:"log_top",children:Object(s.jsx)("div",{className:"login_logos",children:Object(s.jsx)("a",{children:Object(s.jsx)("img",{src:v.a,role:"button",onClick:function(){return Object(h.x)("https://www.guardianlink.io/")}})})})}),Object(s.jsxs)("div",{className:"form-cntnt-box",children:[Object(s.jsx)("h4",{children:"Password Changed Successfully"}),Object(s.jsxs)("p",{className:"mb-4",children:["Please ",Object(s.jsx)(O.b,{to:"/signin",children:" login "})," to continue"," "]})]})]}):Object(s.jsxs)("div",{className:"bl_form_box",children:[Object(s.jsx)("div",{className:"log_top",children:Object(s.jsx)("div",{className:"login_logos",children:Object(s.jsx)("a",{children:Object(s.jsx)("img",{src:v.a,role:"button",onClick:function(){return Object(h.x)("https://www.guardianlink.io/")}})})})}),Object(s.jsxs)("div",{className:"form-cntnt-box",children:[Object(s.jsx)("h4",{children:" Change Password"}),Object(s.jsxs)("div",{className:"form-group mb-2 float-icon",children:[Object(s.jsx)(m.a,{title:"New Password",type:H?"password":"text",required:U.password,name:"password",onChange:$,onKeyPress:ee,isPop:!0,popText:"Your password should have a minimum of 6 characters, and should include an uppercase letter and a number."}),H?Object(s.jsx)(d.l,{role:"button",className:"eye",onClick:function(){return I(!H)}}):Object(s.jsx)(d.m,{role:"button",className:"eye",onClick:function(){return I(!H)}})]}),U.valid_password&&Object(s.jsx)("p",{className:"error_text my-1",children:"Your password does not comply with our password policy."}),Object(s.jsxs)("div",{className:"form-group mb-2 float-icon",children:[Object(s.jsx)(m.a,{title:"Confirm New Password",type:Q?"password":"text",required:U.password_confirmation,name:"password_confirmation",onChange:$,onKeyPress:ee}),Q?Object(s.jsx)(d.l,{role:"button",className:"eye",onClick:function(){return R(!Q)}}):Object(s.jsx)(d.m,{role:"button",className:"eye",onClick:function(){return R(!Q)}})]}),U.valid_password_confirmation&&Object(s.jsx)("p",{className:"error_text my-1",children:"Password doesn't match"}),Object(s.jsxs)("div",{className:"form-group mb-2",children:[Object(s.jsx)("button",{disabled:P,type:"button",className:"btn btn-dark w-100",onClick:X,children:"Change password"}),"token-expired"===q?Object(s.jsx)(V,{}):Object(s.jsx)("p",{className:"error_text text-center",children:q})]})]})]})})})}),N=a(534);t.default=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N.a,{}),Object(s.jsx)(g,{})]})}},932:function(e,t,a){}}]);
//# sourceMappingURL=16.897c2e7f.chunk.js.map